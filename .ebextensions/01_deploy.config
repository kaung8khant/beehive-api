option_settings:
  # Point the app root to the /public folder.
  - namespace: aws:elasticbeanstalk:container:php:phpini
    option_name: document_root
    value: /public

container_commands:

    01-optimize-autoloader:
        command: "/usr/bin/composer.phar dump-autoload --optimize"

    02-optimize-config-loading:
        command: "php artisan config:cache"

    03-optimize-route-loading:
        command: "php artisan route:cache"

    04-migrate:
        command: "php artisan migrate --force"
        leader_only: true

    05-event-cache:
        command: "php artisan event:cache"

    06-scout-sync:
        command: "php artisan scout:sync -n"

    07-scout-reimport:
        command: "php artisan scout:reimport"
